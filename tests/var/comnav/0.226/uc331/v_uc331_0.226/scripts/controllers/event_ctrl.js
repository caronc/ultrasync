var ALARM_CAT=0;var RESTORE_CAT=1;var OPEN_CAT=2;var BYPASS_CAT=3;var TROUBLE_CAT=4;var PWR_TROUBLE_CAT=5;var TAMPER_CAT=6;var TEST_CAT=7;var SYSTEM_TROUBLE_CAT=8;var FTC_CAT=9;var SENSOR_TRB_CAT=10;var PROGRAM_CAT=11;var CANCEL_CAT=12;var CP01_CAT=13;var FILTER_LAST=13;var PRINT_ZONE=16;var PRINT_RESTORE=32;var PRINT_AREA=64;var PRINT_USER=128;var PRINT_ALARM=256;var PRINT_DEVICE=512;var CID_RESTORE=1024;var WORDS_LANG=0;var WORDS_VERSION=1;var WORDS_ZONE=2;var WORDS_USER=3;var WORDS_AREA=4;var WORDS_RESTORE=5;var WORDS_ACCOUNT=6;var WORDS_DEVICE=7;var WORDS_ALARM=8;var WORDS_BYPASS=9;var WORDS_TAMPER=10;var WORDS_TROUBLE=11;var WORDS_SENSOR_LB=12;var WORDS_SENSOR_SUPERVISION_FAULT=13;var WORDS_CROSS_TRIP=14;var WORDS_SPRINKLER_SUPERVISE=15;var WORDS_NO_ACTIVITY=16;var WORDS_DO_NOT_REPORT=17;var WORDS_CODEPAD_DURESS=18;var WORDS_CODEPAD_FIRE=19;var WORDS_CODEPAD_MEDICAL=20;var WORDS_CODEPAD_AUXILLIARY=21;var WORDS_CODEPAD_PANIC=22;var WORDS_CODEPAD_TAMPER=23;var WORDS_BOX_TAMPER=24;var WORDS_BOX_TAMPER_RESTORE=25;var WORDS_AC_POWER_FAIL=26;var WORDS_AC_POWER_RESTORE=27;var WORDS_SYSTEM_LOW_BATTERY=28;var WORDS_OVER_CURRENT_FAULT=29;var WORDS_SIREN_TROUBLE=30;var WORDS_TELEPHONE_LINE_FAULT=31;var WORDS_EXPANDER_TROUBLE=32;var WORDS_TELLEPHONE_COMM_FAIL=33;var WORDS_LOG_FULL=34;var WORDS_OPEN=35;var WORDS_CLOSE=36;var WORDS_EXIT_ERROR=37;var WORDS_RECENT_CLOSE=38;var WORDS_AUTO_TEST=39;var WORDS_START_PROGRAM=40;var WORDS_END_PROGRAM=41;var WORDS_START_DOWNLOAD=42;var WORDS_END_DOWNLOAD=43;var WORDS_CANCEL=44;var WORDS_GROUND_FAULT=45;var WORDS_MANUAL_TEST=46;var WORDS_PARTIAL_CLOSE=47;var WORDS_LISTEN_IN=48;var WORDS_TECHNICIAN_ARRIVED=49;var WORDS_TECHNICIAN_LEFT=50;var WORDS_WATCH_DOG_RESET_EVENT=51;var WORDS_EARLY_TO_OPEN=52;var WORDS_LATE_TO_CLOSE=53;var WORDS_R_F_JAM=54;var WORDS_CLEAN_ME=55;var WORDS_TIME_LOSS=56;var WORDS_BATTERY_TEST_FAIL_MESSAGE=57;var WORDS_EXPANDER_LOW_BATTERY=58;var WORDS_EXPANDER_MAINS_FAIL=59;var WORDS_EXPANDER_BOX_TAMPER=60;var WORDS_EXPANDER_COMM_FAIL=61;var WORDS_EXPANDER_OVER_CURRENT=62;var WORDS_EXPANDER_SIREN_TROUBLE=63;var WORDS_FIRE_ALARM_SET=64;var WORDS_FIRE_TROUBLE_SET=65;var WORDS_ACCESS_EVENT_MESSAGE=66;var WORDS_SHUT_DOWN_MESSAGE=67;var WORDS_SHUT_DOWN_RESTORE_MESSAGE=68;var WORDS_ENROLL_MESSAGE=69;var WORDS_OUTPUT_RESTORE_MESSAGE=70;var WORDS_CLOCK_CHANGE_MESSAGE=71;var WORDS_FIRST_OPEN_MESSAGE=72;var WORDS_LAST_CLOSE_MESSAGE=73;var WORDS_CODE_EVENT_MESSAGE=74;var WORDS_START_TEST_MESSAGE=75;var WORDS_END_TEST_MESSAGE=76;var WORDS_REEXIT_MESSAGE=77;var WORDS_OUTPUT_MESSAGE=78;var WORDS_REPORT_FAIL=79;var WORDS_VERIFIEDBURG=80;var WORDS_VERIFIEDBURG_RESTORE=81;var WORDS_VERIFIEDFIRE=82;var WORDS_VERIFIEDFIRE_RESTORE=83;var WORDS_OPEN_AFTER_ALARM=84;var WORDS_FORCEDPOINT=85;var WORDS_FORCEDRESTORE=86;var WORDS_OFFNORMTEST=87;var WORDS_RAMFAILEVENT=88;var WORDS_ROMFAILEVENT=89;var WORDS_NOUSAGEEVENT=90;var WORDS_AUXCOMMFAILEVENT=91;var WORDS_AUXCOMMFAILREST=92;var WORDS_EQUIPFAILALARM=93;var WORDS_EQUIPFAILREST=94;var WORDS_MONTH_JAN=95;var WORDS_MONTH_FEB=96;var WORDS_MONTH_MAR=97;var WORDS_MONTH_APR=98;var WORDS_MONTH_MAY=99;var WORDS_MONTH_JUN=100;var WORDS_MONTH_JUL=101;var WORDS_MONTH_AUG=102;var WORDS_MONTH_SEP=103;var WORDS_MONTH_OCT=104;var WORDS_MONTH_NOV=105;var WORDS_MONTH_DEC=106;var WORDS_TIME=107;var WORDS_DATE=108;var WORDS_VIDEO=109;var WORDS_UNKNOWN=110;var WORDS_PANEL_ALARM=111;var WORDS_PANEL_ALARM_ACK=112;var WORDS_PANEL_ALARM_NACK=113;var WORDS_PANEL_CONNECTION=114;var WORDS_SYSTEM_CONNECTION=115;var WORDS_PATH=116;var WORDS_GPRS=117;var WORDS_IP=118;var WORDS_NETIF=119;var WORDS_CONFIG_CHANGE=120;var WORDS_POWERUP=121;var WORDS_SOFTWARE_CHANGE=122;var WORDS_SYSTEM_OK=123;var WORDS_ONLINE=124;var WORDS_OFFLINE=125;var WORDS_REGISTERED=126;var WORDS_WRONG_PIN=127;var WORDS_PIN_REQUIRED=128;var WORDS_PUK_REQUIRED=129;var WORDS_TRYING_TO_REGISTER=130;var WORDS_WAITING_ON_REGISTRATION=131;var WORDS_2G_GPRS=132;var WORDS_2G_EDGE=133;var WORDS_3G_WCDMA=134;var WORDS_3G_HSDPA=135;var WORDS_3G_HSUPA=136;var WORDS_3G_HSDPA_HSUPA=137;var WORDS_EMEA=138;var WORDS_AMERICAS=139;var WORDS_AUSTRALIA=140;var WORDS_ETHERNET=141;var WORDS_CONNECTED=142;var WORDS_DISCONNECTED=143;var WORDS_NOT_CONNECTED=144;var WORDS_NO_USER_SLOTS_AVAIL=145;var WORDS_INVALID_PERMISSIONS=146;var WORDS_CANNOT_DELETE_USER=147;var WORDS_NOT_ENOUGH_DATA=148;var WORDS_INVALID_PIN=149;var WORDS_PROGRAM_FAIL=150;var WORDS_PROGRAM_SUCCESS=151;var WORDS_LATEST_CLIP=152;var WORDS_COPY_STARTED=153;var WORDS_BUSY=154;var WORDS_NOTHING_TO_COPY=155;var WORDS_NO_KEYPADS=156;var WORDS_OK=157;var WORDS_GENERAL_ERROR=158;var WORDS_CHECK_CREDENTIALS=159;var WORDS_SESSION_EXPIRED=160;var WORDS_TOO_MANY_USERS=161;var WORDS_TOO_MANY_FAILURES=162;var WORDS_NO_MORE_CHANNELS=163;var WORDS_CHANNEL_NOT_FOUND=164;var WORDS_PERMISION_VIOLATED=165;var WORDS_DUPLICATE_PIN=166;var WORDS_BUS_FLT=167;var WORDS_USER_CODE_CHANGED_EVENT=168;var WORDS_USER_OPT_CHANGED_EVENT=169;var WORDS_USER_CODE_ADDED_EVENT=170;var WORDS_USER_CODE_DELETE_DEVENT=171;var WORDS_HOLDUP=172;var WORDS_FAULTS_OVERWRITE=173;var WORDS_CLOSE_FAILED=174;var WORDS_PULSE_COUNT=175;angular.module("ngAppApp").controller("ShowEventsController",["$scope","$interval","$http","Updater","Poller",function(a,e,f,d,c){var b=20;a.eventsList=[{event:WORDS_UNKNOWN,ids:[]},{event:trl("Panel Alarm"),ids:[]},{event:trl("Panel Alarm Acked"),ids:[]},{event:trl("Panel Alarm Nack"),ids:[]},{event:WORDS_AC_POWER_FAIL,ids:[]},{event:WORDS_SYSTEM_LOW_BATTERY,ids:[]},{event:WORDS_PANEL_CONNECTION,ids:[]},{event:WORDS_PATH,ids:[{id:8,name:WORDS_IP},{id:9,name:WORDS_GPRS}]},{event:WORDS_SYSTEM_CONNECTION,ids:[]},{event:WORDS_NETIF,ids:[]},{event:WORDS_CONFIG_CHANGE,ids:[]},{event:WORDS_POWERUP,ids:[]},{event:WORDS_SOFTWARE_CHANGE,ids:[]},{event:WORDS_CLOCK_CHANGE_MESSAGE,ids:[]},{event:WORDS_ACCESS_EVENT_MESSAGE,ids:[]},{event:WORDS_VIDEO,ids:[]}];a.panelEvents=[{word:WORDS_ALARM,flags:ALARM_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_ALARM,flags:RESTORE_CAT|PRINT_ZONE|PRINT_RESTORE|PRINT_AREA},{word:WORDS_BYPASS,flags:BYPASS_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_BYPASS,flags:BYPASS_CAT|PRINT_ZONE|PRINT_RESTORE|PRINT_AREA},{word:WORDS_TAMPER,flags:TAMPER_CAT|PRINT_ALARM|PRINT_ZONE|PRINT_AREA},{word:WORDS_TAMPER,flags:TAMPER_CAT|PRINT_ZONE|PRINT_RESTORE|PRINT_AREA},{word:WORDS_TROUBLE,flags:TROUBLE_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_TROUBLE,flags:TROUBLE_CAT|PRINT_ZONE|PRINT_RESTORE|PRINT_AREA},{word:WORDS_SENSOR_LB,flags:SENSOR_TRB_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_SENSOR_LB,flags:SENSOR_TRB_CAT|PRINT_ZONE|PRINT_RESTORE|PRINT_AREA},{word:WORDS_SENSOR_SUPERVISION_FAULT,flags:SENSOR_TRB_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_SENSOR_SUPERVISION_FAULT,flags:SENSOR_TRB_CAT|PRINT_ZONE|PRINT_RESTORE|PRINT_AREA},{word:WORDS_CROSS_TRIP,flags:ALARM_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_SPRINKLER_SUPERVISE,flags:TROUBLE_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_SPRINKLER_SUPERVISE,flags:TROUBLE_CAT|PRINT_ZONE|PRINT_RESTORE|PRINT_AREA},{word:WORDS_NO_ACTIVITY,flags:SENSOR_TRB_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_NO_ACTIVITY,flags:SENSOR_TRB_CAT|PRINT_ZONE|PRINT_RESTORE|PRINT_AREA},{word:WORDS_DO_NOT_REPORT,flags:0},{word:WORDS_CODEPAD_DURESS,flags:ALARM_CAT|PRINT_ALARM|PRINT_AREA},{word:WORDS_CODEPAD_FIRE,flags:ALARM_CAT|PRINT_ALARM|PRINT_AREA},{word:WORDS_CODEPAD_MEDICAL,flags:ALARM_CAT|PRINT_ALARM|PRINT_AREA},{word:WORDS_CODEPAD_AUXILLIARY,flags:ALARM_CAT|PRINT_ALARM|PRINT_AREA},{word:WORDS_CODEPAD_PANIC,flags:ALARM_CAT|PRINT_ALARM|PRINT_AREA},{word:WORDS_CODEPAD_TAMPER,flags:TAMPER_CAT|PRINT_ALARM|PRINT_AREA},{word:WORDS_BOX_TAMPER,flags:TAMPER_CAT|PRINT_DEVICE},{word:WORDS_BOX_TAMPER,flags:TAMPER_CAT|PRINT_DEVICE|PRINT_RESTORE},{word:WORDS_AC_POWER_FAIL,flags:PWR_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_AC_POWER_RESTORE,flags:PWR_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_SYSTEM_LOW_BATTERY,flags:PWR_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_SYSTEM_LOW_BATTERY,flags:PWR_TROUBLE_CAT|PRINT_DEVICE|PRINT_RESTORE},{word:WORDS_OVER_CURRENT_FAULT,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_OVER_CURRENT_FAULT,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE|PRINT_RESTORE},{word:WORDS_SIREN_TROUBLE,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_SIREN_TROUBLE,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE|PRINT_RESTORE},{word:WORDS_TELEPHONE_LINE_FAULT,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_TELEPHONE_LINE_FAULT,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE|PRINT_RESTORE},{word:WORDS_EXPANDER_TROUBLE,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_EXPANDER_TROUBLE,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE|PRINT_RESTORE},{word:WORDS_TELLEPHONE_COMM_FAIL,flags:FTC_CAT|PRINT_DEVICE},{word:WORDS_LOG_FULL,flags:PROGRAM_CAT|PRINT_DEVICE},{word:WORDS_OPEN,flags:OPEN_CAT|PRINT_USER|PRINT_AREA},{word:WORDS_CLOSE,flags:OPEN_CAT|PRINT_USER|PRINT_AREA},{word:WORDS_EXIT_ERROR,flags:ALARM_CAT|PRINT_USER|PRINT_AREA},{word:WORDS_RECENT_CLOSE,flags:CP01_CAT|PRINT_USER|PRINT_AREA},{word:WORDS_AUTO_TEST,flags:TEST_CAT|PRINT_DEVICE},{word:WORDS_START_PROGRAM,flags:PROGRAM_CAT|PRINT_DEVICE},{word:WORDS_END_PROGRAM,flags:PROGRAM_CAT|PRINT_DEVICE},{word:WORDS_START_DOWNLOAD,flags:PROGRAM_CAT|PRINT_DEVICE},{word:WORDS_END_DOWNLOAD,flags:PROGRAM_CAT|PRINT_DEVICE},{word:WORDS_CANCEL,flags:CANCEL_CAT|PRINT_USER|PRINT_AREA},{word:WORDS_GROUND_FAULT,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_GROUND_FAULT,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE|PRINT_RESTORE},{word:WORDS_MANUAL_TEST,flags:TEST_CAT|PRINT_DEVICE},{word:WORDS_PARTIAL_CLOSE,flags:OPEN_CAT|PRINT_USER|PRINT_AREA},{word:WORDS_LISTEN_IN,flags:ALARM_CAT|PRINT_AREA},{word:WORDS_TECHNICIAN_ARRIVED,flags:PROGRAM_CAT},{word:WORDS_TECHNICIAN_LEFT,flags:PROGRAM_CAT},{word:WORDS_WATCH_DOG_RESET_EVENT,flags:PROGRAM_CAT|PRINT_DEVICE},{word:WORDS_EARLY_TO_OPEN,flags:OPEN_CAT|PRINT_USER|PRINT_AREA},{word:WORDS_LATE_TO_CLOSE,flags:OPEN_CAT|PRINT_AREA},{word:WORDS_R_F_JAM,flags:TAMPER_CAT|PRINT_DEVICE},{word:WORDS_R_F_JAM,flags:TAMPER_CAT|PRINT_DEVICE|PRINT_RESTORE},{word:WORDS_CLEAN_ME,flags:TROUBLE_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_CLEAN_ME,flags:TROUBLE_CAT|PRINT_ZONE|PRINT_RESTORE|PRINT_AREA},{word:WORDS_VERIFIEDBURG,flags:SYSTEM_TROUBLE_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_VERIFIEDBURG_RESTORE,flags:SYSTEM_TROUBLE_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_VERIFIEDFIRE,flags:ALARM_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_VERIFIEDFIRE_RESTORE,flags:ALARM_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_OPEN_AFTER_ALARM,flags:ALARM_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_FORCEDPOINT,flags:ALARM_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_FORCEDRESTORE,flags:ALARM_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_OFFNORMTEST,flags:TEST_CAT|PRINT_DEVICE},{word:WORDS_RAMFAILEVENT,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_ROMFAILEVENT,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_NOUSAGEEVENT,flags:ALARM_CAT|PRINT_DEVICE},{word:WORDS_AUXCOMMFAILEVENT,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_AUXCOMMFAILREST,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_EQUIPFAILALARM,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_EQUIPFAILREST,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_BUS_FLT,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_BUS_FLT,flags:SYSTEM_TROUBLE_CAT|PRINT_RESTORE|PRINT_DEVICE},{word:WORDS_USER_CODE_CHANGED_EVENT,flags:PROGRAM_CAT|PRINT_USER},{word:WORDS_USER_OPT_CHANGED_EVENT,flags:PROGRAM_CAT|PRINT_USER},{word:WORDS_R_F_JAM,flags:TAMPER_CAT|PRINT_DEVICE},{word:WORDS_R_F_JAM,flags:TAMPER_CAT|PRINT_DEVICE|PRINT_RESTORE},{word:WORDS_USER_CODE_ADDED_EVENT,flags:PROGRAM_CAT|PRINT_USER},{word:WORDS_USER_CODE_DELETE_DEVENT,flags:PROGRAM_CAT|PRINT_USER},{word:WORDS_HOLDUP,flags:ALARM_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_HOLDUP,flags:ALARM_CAT|PRINT_ZONE|PRINT_AREA|PRINT_RESTORE},{word:WORDS_FAULTS_OVERWRITE,flags:PROGRAM_CAT|PRINT_AREA},{word:WORDS_CLOSE_FAILED,flags:SYSTEM_TROUBLE_CAT|PRINT_USER|PRINT_AREA},{word:WORDS_PULSE_COUNT,flags:TEST_CAT|PRINT_ZONE|PRINT_AREA},{word:WORDS_ACCESS_EVENT_MESSAGE,flags:PRINT_USER|PRINT_AREA},{word:WORDS_SHUT_DOWN_RESTORE_MESSAGE,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_SHUT_DOWN_MESSAGE,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_ENROLL_MESSAGE,flags:SYSTEM_TROUBLE_CAT|PRINT_DEVICE},{word:WORDS_OUTPUT_RESTORE_MESSAGE,flags:PROGRAM_CAT|PRINT_USER},{word:WORDS_CLOCK_CHANGE_MESSAGE,flags:PROGRAM_CAT},{word:WORDS_FIRST_OPEN_MESSAGE,flags:OPEN_CAT|PRINT_USER|PRINT_AREA},{word:WORDS_LAST_CLOSE_MESSAGE,flags:OPEN_CAT|PRINT_USER|PRINT_AREA},{word:WORDS_CODE_EVENT_MESSAGE,flags:OPEN_CAT|PRINT_USER|PRINT_AREA},{word:WORDS_START_TEST_MESSAGE,flags:TEST_CAT|PRINT_DEVICE},{word:WORDS_END_TEST_MESSAGE,flags:TEST_CAT|PRINT_DEVICE},{word:WORDS_REEXIT_MESSAGE,flags:PRINT_AREA|PRINT_USER},{word:WORDS_OUTPUT_MESSAGE,flags:PROGRAM_CAT|PRINT_USER},{word:WORDS_REPORT_FAIL,flags:PRINT_DEVICE}];a.eventsType=["","Event","Restore"];a.event_filters=[{id:0,label:trl("All")},{id:1,label:trl("Panel Events")},{id:2,label:trl("Alarm")},{id:3,label:trl("Connection")},{id:4,label:trl("System")},{id:5,label:trl("Configuration")},{id:6,label:trl("Video & Location")}];a.type_comm=0;a.type_panel=0;a.events=[];a.total=0;a.start=0;a.end=0;a.event_filter=0;a.menu=get_menu();a.desktop_mode=getmode();a.updater=d;a.UpdateEvents=function(g){a.events=g.ea;a.total=g.tl;a.start=g.st;a.end=g.en;a.serial=g.se};a.eventsPrev=function(){c.resetSession();if(!a.isPrevDisabled()){a.updater.sendUpdate(a,undefined,{of:a.end,nm:b,ft:a.event_filter},a.updater.cmdEnum.EVLOG_GET_PREV,function(g){a.UpdateEvents(g)})}};a.eventsNext=function(){c.resetSession();if(!a.isNextDisabled()){a.updater.sendUpdate(a,undefined,{of:a.start,nm:b,ft:a.event_filter},a.updater.cmdEnum.EVLOG_GET_NEXT,function(g){g.ev=g.ea.reverse();a.UpdateEvents(g)})}};a.isPrevDisabled=function(){return a.end==a.total};a.isNextDisabled=function(){return a.start==0};a.getNextClass=function(){var g="bg-blu";if(a.isNextDisabled()){g="bg-gry"}return g+" btn-hf btn-wd"};a.getPrevClass=function(){var g="bg-blu";if(a.isPrevDisabled()){g="bg-gry"}return g+" btn-hf btn-wd"};a.eventsRefresh=function(){c.resetSession();a.updater.sendUpdate(a,undefined,{of:0,nm:b,ft:a.event_filter},a.updater.cmdEnum.EVLOG_GET_PREV,function(g){a.UpdateEvents(g)})};a.pad=function(g,h){var i="000000000"+g;return i.substr(i.length-h)};a.getClipName=function(g){return"http://dummy/intercept/clip?MAC="+g.ma+"&ref="+a.serial+"-"+a.pad(g.id,2)+"-"+g.ti+".mp4"};a.getCommMsg=function(m){var n="";if(a.eventsList[m.ev].event==WORDS_ACCESS_EVENT_MESSAGE){var h=null;if(m.id==0||m.id==255){h="installer"}else{if(isUserMaster(user_level)){h=a.users[m.id-1].name}}n+=(h!=""&&h!=null)?h+" ":menu_str[WORDS_USER]+" "+m.id+" "}if("ids" in a.eventsList[m.ev]){for(var g in a.eventsList[m.ev].ids){if(a.eventsList[m.ev].ids[g].id==m.id){if(isNaN(a.eventsList[m.ev].ids[g].name)){n+=a.eventsList[m.ev].ids[g].name}else{n+=menu_str[a.eventsList[m.ev].ids[g].name]}n+=" ";break}}}if(isNaN(a.eventsList[m.ev].event)){n+=a.eventsList[m.ev].event}else{n+=menu_str[a.eventsList[m.ev].event]}if(a.eventsList[m.ev].event==WORDS_VIDEO){var h;var l=0;for(var k=0;k<a.settings.cameras.length;k++){if(a.settings.cameras[k].id==m.id){l=k;h=a.settings.cameras[k].na}}n+=(h!=""&&h!=null)?" "+h:" "+trl("Camera")+" "+l}if(m.ty==1){}else{if(m.ty==2){n+=" "+menu_str[WORDS_RESTORE]}}if(a.eventsList[m.ev].event=="Panel Alarm Acked"||a.eventsList[m.ev].event=="Panel Alarm Nack"){n+=" ("+m.pt+")"}return n};a.getEventTableIndex=function(i){var h=89;var g=112;if(i>h){i-=(g-(h+1))}if(i>=a.panelEvents.length){i=a.panelEvents.length-1}return i};a.panelMessage=function(k,o,n,i,l,m){var j="";var h=a.getEventTableIndex(k);j+=menu_str[a.panelEvents[h].word];if(h==17){return j}if(a.panelEvents[h].flags&PRINT_ALARM){j+=(" "+menu_str[WORDS_ALARM])}if(a.panelEvents[h].flags&PRINT_RESTORE){j+=(" "+menu_str[WORDS_RESTORE])}if(o>0){j+=" **"}else{if(!n){j+=" *"}}if(a.panelEvents[h].flags&PRINT_ZONE){var g=a.settings.zones[i];i++;j+=(g!=""&&g!=null)?" "+g:" "+menu_str[WORDS_ZONE]+" "+i}if(a.panelEvents[h].flags&PRINT_DEVICE){j+=" "+menu_str[WORDS_DEVICE]+" "+i}if(a.panelEvents[h].flags&PRINT_AREA){var g=a.settings.areas[l-1];j+=(g!=""&&g!=null)?" "+g:" "+menu_str[WORDS_AREA]+" "+l}if(a.panelEvents[h].flags&PRINT_USER){var g=null;if(i==254){g="installer"}else{if(isUserMaster(user_level)){g=a.users[i].name}}i++;j+=(g!=""&&g!=null)?" "+g:" "+menu_str[WORDS_USER]+" "+i}j+=" ("+m+")";return j};a.getMsg=function(g){if(g.sr==a.type_comm){return a.getCommMsg(g)}else{return a.panelMessage(g.ev,g.ty,g.rp,g.id,g.pa,g.pt)}};a.getTime=function(i){var h=parseInt(i.to);var g=(h&48)>>4;var j=(((h&15)*60*60)+(g*15*60))*(h&128?1:-1);return(parseInt(i.ti)+j)*1000};a.updater.sendUpdate(a,undefined,null,a.updater.cmdEnum.CONFIG_GET,function(g){a.settings=g});if(isUserMaster(user_level)){a.updater.sendUpdate(a,undefined,null,a.updater.cmdEnum.USERS_GET,function(g){a.users=g.users})}a.eventsRefresh()}]);